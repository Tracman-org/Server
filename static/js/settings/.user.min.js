"use strict";$(function(){const e=$("#email-input").val();$("#delete").click(function(){confirm("Are you sure you want to delete your account?  It will also delete any maps for which you are the sole administrator.  This CANNOT be undone! ")&&(window.location.href=$("#delete").attr("href"))}),$("#email-input").change(function(){$("#email-input").val()?$("#email-input").val()===e?($("#email-help").hide(),$("#submit-btn").prop("disabled",!1).prop("title","Save your settings")):validateEmail($("#email-input").val())?replaceFromEndpoint("mongo","#email-input",function(){$.get({url:"/validate?email="+$("#email-input").val(),statusCode:{204:function(){$("#email-help").hide(),$("#submit-btn").prop("disabled",!1).prop("title","Save your settings")},409:function(){$("#email-help").show().text("That email is already in use by another account. "),$("#submit-btn").prop("disabled",!0).prop("title","Supply a different email above")}}}).fail(function(){$("#email-help").show().text("Unable to confirm unique email.  Are you still connected to the internet?"),$("#submit-btn").prop("disabled",!1).prop("title","Try to save your settings")})}):($("#email-help").show().text("You must enter a valid email address. "),$("#submit-btn").prop("disabled",!0).prop("title","You need to enter a valid email address above. ")):($("#email-help").show().text("You must enter an email address. "),$("#submit-btn").prop("disabled",!0).prop("title","You need to enter an email address above. "))})});